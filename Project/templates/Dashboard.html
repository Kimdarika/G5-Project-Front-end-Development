<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NoteTaker - Notebook</title>
    
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- External Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.min.css"/>
    <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <link rel="stylesheet" href="/Project/static/CSS/dashboard.css">
    <script src="/Project/static/JS/dashboard.js"></script>
    <!-- Application CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: #f8fafc;
            color: #1e293b;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
        }

        .loader {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Main App Container */
        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: white;
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            z-index: 100;
            transition: transform 0.3s ease;
        }

        .toggle-sidebar {
            position: absolute;
            right: -15px;
            top: 20px;
            width: 30px;
            height: 30px;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
            color: #64748b;
            z-index: 101;
        }

        .logo {
            padding: 25px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid #e2e8f0;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .category-list, .tag-list {
            padding: 20px;
            flex: 1;
            overflow-y: auto;
        }

        .section-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            color: #64748b;
            font-weight: 600;
            letter-spacing: 0.05em;
            margin-bottom: 15px;
        }

        .category-item, .tag-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 5px;
            cursor: pointer;
            transition: all 0.2s;
            color: #475569;
            text-decoration: none;
        }

        .category-item:hover, .tag-item:hover,
        .category-item.active, .tag-item.active {
            background: #f1f5f9;
            color: #4f46e5;
        }

        .category-icon, .tag-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .category-icon.all, .tag-icon.important {
            background: #dbeafe;
            color: #1d4ed8;
        }

        .category-icon.personal, .tag-icon.meeting {
            background: #f0f9ff;
            color: #0369a1;
        }

        .category-icon.work, .tag-icon.project {
            background: #fef3c7;
            color: #d97706;
        }

        .category-icon.ideas, .tag-icon.ideas {
            background: #f3e8ff;
            color: #7c3aed;
        }

        .category-icon.todo {
            background: #dcfce7;
            color: #16a34a;
        }

        .category-icon.trash {
            background: #fee2e2;
            color: #dc2626;
        }

        .category-text, .tag-text {
            font-weight: 500;
            flex: 1;
        }

        .new-note-btn {
            margin: 20px;
            padding: 14px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .new-note-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .new-note-btn i {
            font-size: 18px;
        }

        .user-info {
            padding: 20px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .user-details {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            color: #1e293b;
        }

        .user-email {
            font-size: 0.875rem;
            color: #64748b;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Top Bar */
        .top-bar {
            background: white;
            padding: 20px 30px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .search-container {
            flex: 1;
            min-width: 300px;
        }

        .search-box {
            position: relative;
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
        }

        .search-box input {
            width: 100%;
            padding: 12px 20px 12px 45px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.2s;
        }

        .search-box input:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        /* Stats Container */
        .stats-container {
            display: flex;
            gap: 20px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 15px;
            background: #f8fafc;
            padding: 15px 20px;
            border-radius: 10px;
            min-width: 180px;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .stat-icon.notes {
            background: #dbeafe;
            color: #1d4ed8;
        }

        .stat-icon.pinned {
            background: #fef3c7;
            color: #d97706;
        }

        .stat-info h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .stat-info p {
            margin: 0;
            color: #64748b;
            font-size: 0.875rem;
        }

        .top-bar-actions {
            display: flex;
            gap: 10px;
        }

        /* Buttons */
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f1f5f9;
            color: #475569;
            border: 1px solid #e2e8f0;
        }

        .btn-secondary:hover {
            background: #e2e8f0;
        }

        /* Notes Grid */
        .notes-container {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .notes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .note-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
        }

        .note-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }

        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .note-title {
            font-weight: 600;
            color: #1e293b;
            font-size: 1.1rem;
            margin-bottom: 8px;
            flex: 1;
        }

        .note-pin {
            color: #f59e0b;
            font-size: 14px;
        }

        .note-content {
            color: #64748b;
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 15px;
            max-height: 100px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
        }

        .note-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid #f1f5f9;
        }

        .note-category {
            font-size: 0.75rem;
            padding: 4px 12px;
            border-radius: 20px;
            background: #f1f5f9;
            color: #475569;
            font-weight: 500;
        }

        .note-date {
            font-size: 0.75rem;
            color: #94a3b8;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            max-width: 500px;
            margin: 0 auto;
        }

        .empty-icon {
            font-size: 4rem;
            color: #cbd5e1;
            margin-bottom: 20px;
        }

        .empty-state h3 {
            color: #475569;
            margin-bottom: 10px;
        }

        .empty-state p {
            color: #94a3b8;
            margin-bottom: 20px;
        }

        /* Editor Modal */
        .editor-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .editor-container {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .editor-header {
            padding: 25px 30px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-title {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
        }

        .note-action-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: none;
            background: #f1f5f9;
            color: #64748b;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .note-action-btn:hover {
            background: #e2e8f0;
        }

        .editor-body {
            padding: 30px;
            overflow-y: auto;
            flex: 1;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .form-control:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        #editor {
            height: 300px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
        }

        .editor-footer {
            padding: 25px 30px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Export Modal */
        .export-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .export-container {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .export-header {
            padding: 25px 30px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .export-title {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
        }

        .export-body {
            padding: 30px;
            overflow-y: auto;
            flex: 1;
        }

        .export-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .export-option {
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .export-option:hover {
            border-color: #4f46e5;
            background: #f8fafc;
        }

        .export-option.active {
            border-color: #4f46e5;
            background: #f1f5f9;
        }

        .export-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .export-icon.pdf {
            background: #fee2e2;
            color: #dc2626;
        }

        .export-icon.txt {
            background: #f3f4f6;
            color: #4b5563;
        }

        .export-icon.docx {
            background: #dbeafe;
            color: #1d4ed8;
        }

        .export-icon.json {
            background: #fef3c7;
            color: #d97706;
        }

        .export-info h4 {
            margin: 0 0 5px 0;
            font-size: 1rem;
        }

        .export-info p {
            margin: 0;
            color: #64748b;
            font-size: 0.875rem;
        }

        .export-footer {
            padding: 25px 30px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Footer */
        .footer {
            background: #0f172a;
            color: #cbd5e1;
            padding: 50px 0 20px;
            margin-left: 280px;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-about {
            text-align: center;
            margin-bottom: 40px;
        }

        .footer-about .logo {
            justify-content: center;
            border: none;
            padding: 0 0 20px 0;
        }

        .logo-footer {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            margin: 0 5px;
            object-fit: cover;
        }

        .footer-about p {
            max-width: 600px;
            margin: 0 auto 20px;
            color: #94a3b8;
            line-height: 1.6;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #cbd5e1;
            text-decoration: none;
            transition: all 0.2s;
        }

        .social-icon:hover {
            background: #4f46e5;
            color: white;
            transform: translateY(-2px);
        }

        .footer-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-links h3 {
            font-size: 1rem;
            margin-bottom: 20px;
            color: #f1f5f9;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-links a:hover {
            color: #4f46e5;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #64748b;
            font-size: 0.875rem;
        }

        .bottom-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }

        .bottom-links a {
            color: #64748b;
            text-decoration: none;
        }

        .bottom-links a:hover {
            color: #4f46e5;
        }

        /* Loading Spinner */
        .loading-spinner {
            display: none;
            justify-content: center;
            align-items: center;
            padding: 60px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #e2e8f0;
            border-top-color: #4f46e5;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Export Loading */
        .export-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            color: white;
        }

        .export-progress {
            width: 300px;
            margin-top: 20px;
        }

        .export-progress-text {
            text-align: center;
            margin-top: 10px;
            color: white;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .footer {
                margin-left: 0;
            }
            
            .toggle-sidebar {
                right: -40px;
                background: #4f46e5;
                color: white;
            }
        }

        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                align-items: stretch;
                gap: 15px;
            }
            
            .search-container {
                min-width: 100%;
            }
            
            .stats-container {
                width: 100%;
                justify-content: center;
            }
            
            .stat-item {
                flex: 1;
                min-width: auto;
            }
            
            .top-bar-actions {
                width: 100%;
                justify-content: center;
            }
            
            .notes-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-links {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }

        @media (max-width: 480px) {
            .stat-item {
                flex-direction: column;
                text-align: center;
                padding: 15px;
            }
            
            .editor-container,
            .export-container {
                width: 95%;
                margin: 10px;
            }
            
            .editor-body,
            .export-body {
                padding: 20px;
            }
        }

        /* Dark mode support */
        .dark-mode {
            background: #0f172a;
            color: #f1f5f9;
        }
        
        .dark-mode .sidebar,
        .dark-mode .top-bar,
        .dark-mode .note-card,
        .dark-mode .editor-container,
        .dark-mode .export-container {
            background: #1e293b;
            border-color: #334155;
        }
        
        .dark-mode .search-box input,
        .dark-mode .form-control {
            background: #334155;
            border-color: #475569;
            color: #f1f5f9;
        }
        
        .dark-mode .category-item,
        .dark-mode .tag-item,
        .dark-mode .stat-item {
            background: #334155;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <h3>Loading NoteTaker...</h3>
        <p>Please wait while we prepare your dashboard</p>
    </div>

    <!-- Main App Container -->
    <div class="app-container" id="appContainer">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="toggle-sidebar" id="toggleSidebar">
                <i class="fas fa-chevron-left"></i>
            </div>

            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-sticky-note"></i>
                </div>
                <div class="logo-text">Note Taker</div>
            </div>

            <div class="category-list">
                <div class="section-title">Categories</div>
                <div class="category-item active" data-category="all">
                    <div class="category-icon all">
                        <i class="fas fa-inbox"></i>
                    </div>
                    <span class="category-text">All Notes</span>
                </div>
                <div class="category-item" data-category="personal">
                    <div class="category-icon personal">
                        <i class="fas fa-user"></i>
                    </div>
                    <span class="category-text">Personal</span>
                </div>
                <div class="category-item" data-category="work">
                    <div class="category-icon work">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <span class="category-text">Work</span>
                </div>
                <div class="category-item" data-category="ideas">
                    <div class="category-icon ideas">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <span class="category-text">Ideas</span>
                </div>
                <div class="category-item" data-category="todo">
                    <div class="category-icon todo">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <span class="category-text">To-Do</span>
                </div>
                <div class="category-item" data-category="trash">
                    <div class="category-icon trash">
                        <i class="fas fa-trash"></i>
                    </div>
                    <span class="category-text">Trash</span>
                </div>
            </div>

            <div class="tag-list">
                <div class="section-title">Tags</div>
                <div class="tag-item" data-tag="important">
                    <div class="tag-icon important">
                        <i class="fas fa-star"></i>
                    </div>
                    <span class="tag-text">Important</span>
                </div>
                <div class="tag-item" data-tag="meeting">
                    <div class="tag-icon meeting">
                        <i class="fas fa-users"></i>
                    </div>
                    <span class="tag-text">Meeting</span>
                </div>
                <div class="tag-item" data-tag="project">
                    <div class="tag-icon project">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <span class="tag-text">Project</span>
                </div>
                <div class="tag-item" data-tag="ideas">
                    <div class="tag-icon ideas">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <span class="tag-text">Ideas</span>
                </div>
            </div>

            <button class="new-note-btn" id="newNoteBtn">
                <i class="fas fa-plus-circle"></i>
                <span class="new-note-text">New Note</span>
            </button>

            <div class="user-info" id="userInfo">
                <div class="user-avatar" id="userAvatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-details">
                    <div class="user-name" id="userName">Guest User</div>
                    <div class="user-email" id="userEmail">guest@example.com</div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="top-bar">
                <div class="search-container">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="Search notes...">
                    </div>
                </div>

                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-icon notes">
                            <i class="fas fa-sticky-note"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalNotes">3</h3>
                            <p>Total Notes</p>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon pinned">
                            <i class="fas fa-thumbtack"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="pinnedNotes">1</h3>
                            <p>Pinned</p>
                        </div>
                    </div>
                </div>

                <div class="top-bar-actions">
                    <button class="btn btn-secondary" id="themeToggleBtn">
                        <i class="fas fa-moon"></i>
                        <span>Dark Mode</span>
                    </button>
                    <button class="btn btn-secondary" id="exportBtn">
                        <i class="fas fa-download"></i> Export
                    </button>
                </div>
            </div>

            <div class="notes-container">
                <div class="loading-spinner" id="loadingSpinner">
                    <div class="spinner"></div>
                </div>

                <div class="notes-grid" id="notesGrid">
                    <!-- Notes will be dynamically added here -->
                </div>

                <div class="empty-state" id="emptyState">
                    <div class="empty-icon">
                        <i class="fas fa-sticky-note"></i>
                    </div>
                    <h3>No notes found</h3>
                    <p class="text-secondary">
                        Create your first note by clicking the "New Note" button
                    </p>
                    <button class="btn btn-primary mt-3" id="createFirstNoteBtn">
                        <i class="fas fa-plus-circle"></i> Create Your First Note
                    </button>
                </div>
            </div>
        </div>

        <!-- Editor Modal -->
        <div class="editor-modal" id="editorModal">
            <div class="editor-container">
                <div class="editor-header">
                    <h2 class="editor-title" id="editorTitle">New Note</h2>
                    <button class="note-action-btn" id="closeEditorBtn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="editor-body">
                    <form id="noteForm">
                        <div class="form-group">
                            <input type="text" class="form-control" id="noteTitle" placeholder="Note Title" required>
                        </div>

                        <div class="form-group">
                            <div id="editor"></div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <select class="form-control" id="noteCategory">
                                        <option value="personal">Personal</option>
                                        <option value="work">Work</option>
                                        <option value="ideas">Ideas</option>
                                        <option value="todo">To-Do</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="noteTags" placeholder="Add tags (comma separated)">
                                </div>
                            </div>
                        </div>

                        <div class="form-check mb-3">
                            <input type="checkbox" class="form-check-input" id="notePinned">
                            <label class="form-check-label" for="notePinned">
                                Pin this note
                            </label>
                        </div>
                    </form>
                </div>

                <div class="editor-footer">
                    <button class="btn btn-secondary" id="cancelNoteBtn">Cancel</button>
                    <div>
                        <button class="btn btn-primary" id="saveNoteBtn">
                            <i class="fas fa-save"></i> Save Note
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Export Modal -->
        <div class="export-modal" id="exportModal">
            <div class="export-container">
                <div class="export-header">
                    <h2 class="export-title">Export Notes</h2>
                    <button class="note-action-btn" id="closeExportBtn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="export-body">
                    <div class="export-options">
                        <div class="export-option active" data-format="pdf">
                            <div class="export-icon pdf">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <div class="export-info">
                                <h4>PDF Format</h4>
                                <p>Export as PDF document with formatting preserved</p>
                            </div>
                        </div>
                        <div class="export-option" data-format="txt">
                            <div class="export-icon txt">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="export-info">
                                <h4>Text Format</h4>
                                <p>Export as plain text file</p>
                            </div>
                        </div>
                        <div class="export-option" data-format="docx">
                            <div class="export-icon docx">
                                <i class="fas fa-file-word"></i>
                            </div>
                            <div class="export-info">
                                <h4>Word Format</h4>
                                <p>Export as Microsoft Word document</p>
                            </div>
                        </div>
                        <div class="export-option" data-format="json">
                            <div class="export-icon json">
                                <i class="fas fa-file-code"></i>
                            </div>
                            <div class="export-info">
                                <h4>JSON Format</h4>
                                <p>Export as JSON data for backup</p>
                            </div>
                        </div>
                    </div>

                    <div class="export-settings">
                        <div class="form-check mb-3">
                            <input type="checkbox" class="form-check-input" id="exportAll" checked>
                            <label class="form-check-label" for="exportAll">
                                Export all notes
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <input type="checkbox" class="form-check-input" id="includeMetadata" checked>
                            <label class="form-check-label" for="includeMetadata">
                                Include metadata (tags, category, dates)
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="exportFileName">File Name</label>
                            <input type="text" class="form-control" id="exportFileName" value="notetaker-notes-export" placeholder="Enter file name">
                        </div>
                    </div>
                </div>
                <div class="export-footer">
                    <button class="btn btn-secondary" id="cancelExportBtn">Cancel</button>
                    <button class="btn btn-primary" id="startExportBtn">
                        <i class="fas fa-download"></i> Export Notes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Export Loading -->
    <div class="export-loading" id="exportLoading">
        <div class="spinner"></div>
        <div class="export-progress">
            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 100%"></div>
            </div>
            <div class="export-progress-text">Preparing export...</div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-about">
                <div class="logo">
                    <img class="logo-footer" src="https://i.pinimg.com/1200x/a2/26/87/a226875eca382500fb6bd1ae20380d20.jpg" alt="Portfolio Image 1">
                    <img class="logo-footer" src="https://i.pinimg.com/1200x/a2/26/87/a226875eca382500fb6bd1ae20380d20.jpg" alt="Portfolio Image 2">
                    <img class="logo-footer" src="https://i.pinimg.com/1200x/a2/26/87/a226875eca382500fb6bd1ae20380d20.jpg" alt="Portfolio Image 3">
                </div>
                <p>The Note Taker App is a web-based application that allows users to create, edit, delete, and organize their notes.</p>
                <!-- Social Media Icons -->
                <div class="social-icons">
                    <a href="#" class="social-icon">
                        <i data-lucide="facebook"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i data-lucide="twitter"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i data-lucide="instagram"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i data-lucide="linkedin"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i data-lucide="github"></i>
                    </a>
                </div>
            </div>
            <div class="footer-links">
                <div>
                    <h3>Note taker page</h3>
                    <ul>
                        <li><a href="#" onclick="setView('all')">Menu page</a></li>
                        <li><a href="#" onclick="setView('team')">Workspace page</a></li>
                        <li><a href="#" onclick="openSettings()">Appearance page</a></li>
                        <li><a href="#" onclick="openSettings()">Edit Profile page</a></li>
                        <li><a href="#" onclick="logout()">Login page</a></li>
                    </ul>
                </div>
                <div>
                    <h3>Menu page</h3>
                    <ul>
                        <li><a href="#" onclick="setView('all')">Overview Page</a></li>
                        <li><a href="#" onclick="setView('recent')">Dashboard Page</a></li>
                        <li><a href="#" onclick="setView('notebooks')">Notebooks Page</a></li>
                        <li><a href="#" onclick="setView('starred')">Starred Page</a></li>
                    </ul>
                </div>
                <div>
                    <h3>Workspace</h3>
                    <ul>
                        <li><a href="#" onclick="setView('team')">Team Space</a></li>
                        <li><a href="#" onclick="setView('archive')">Archive</a></li>
                        <li><a href="#" onclick="setView('trash')">Trash</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>Copyright © 2024 – NoteTaker Premium All Rights Reserved</p>
                <div class="bottom-links">
                    <a href="#">Terms</a>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Support</a>
                    <a href="#">Contact</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.all.min.js"></script>
    <script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    
    <script>
        // Sample notes data
        const sampleNotes = [
            {
                id: 1,
                title: "Welcome to NoteTaker!",
                content: "Welcome to your new note-taking application. You can create, edit, and organize your notes here. Try creating a new note by clicking the 'New Note' button.",
                category: "personal",
                tags: ["welcome", "introduction"],
                pinned: true,
                createdAt: new Date(),
                updatedAt: new Date(),
                color: "#667eea"
            },
            {
                id: 2,
                title: "Meeting Notes - Q4 Planning",
                content: "Discussed project timeline and deliverables for Q4. Key points:\n1. Finalize UI designs by Friday\n2. Development sprint starts next Monday\n3. Review with stakeholders on Wednesday",
                category: "work",
                tags: ["meeting", "project", "planning"],
                pinned: false,
                createdAt: new Date(Date.now() - 86400000), // Yesterday
                updatedAt: new Date(Date.now() - 86400000),
                color: "#764ba2"
            },
            {
                id: 3,
                title: "Shopping List",
                content: "Weekly groceries:\n- Milk\n- Eggs\n- Bread\n- Coffee\n- Fruits (apples, bananas)\n- Vegetables\n- Chicken breast",
                category: "personal",
                tags: ["shopping", "todo"],
                pinned: false,
                createdAt: new Date(Date.now() - 172800000), // 2 days ago
                updatedAt: new Date(Date.now() - 172800000),
                color: "#4f46e5"
            },
            {
                id: 4,
                title: "Project Ideas",
                content: "Brainstorming session:\n1. Mobile app for note-taking\n2. AI-powered note organization\n3. Collaborative workspace feature\n4. Voice-to-note transcription",
                category: "ideas",
                tags: ["brainstorming", "ideas", "future"],
                pinned: true,
                createdAt: new Date(Date.now() - 259200000), // 3 days ago
                updatedAt: new Date(Date.now() - 259200000),
                color: "#10b981"
            },
            {
                id: 5,
                title: "To-Do List",
                content: "Tasks for this week:\n✓ Complete project proposal\n✓ Schedule team meeting\n• Prepare presentation\n• Review design mockups\n• Update documentation",
                category: "todo",
                tags: ["tasks", "weekly", "productivity"],
                pinned: false,
                createdAt: new Date(Date.now() - 345600000), // 4 days ago
                updatedAt: new Date(Date.now() - 345600000),
                color: "#f59e0b"
            }
        ];

        // Application state
        let notes = [...sampleNotes];
        let currentCategory = 'all';
        let currentTag = null;
        let searchQuery = '';
        let isDarkMode = false;
        let quillEditor = null;

        // DOM Elements
        const loadingScreen = document.getElementById('loadingScreen');
        const appContainer = document.getElementById('appContainer');
        const sidebar = document.getElementById('sidebar');
        const toggleSidebarBtn = document.getElementById('toggleSidebar');
        const newNoteBtn = document.getElementById('newNoteBtn');
        const themeToggleBtn = document.getElementById('themeToggleBtn');
        const exportBtn = document.getElementById('exportBtn');
        const searchInput = document.getElementById('searchInput');
        const notesGrid = document.getElementById('notesGrid');
        const emptyState = document.getElementById('emptyState');
        const createFirstNoteBtn = document.getElementById('createFirstNoteBtn');
        const totalNotesElement = document.getElementById('totalNotes');
        const pinnedNotesElement = document.getElementById('pinnedNotes');
        const editorModal = document.getElementById('editorModal');
        const closeEditorBtn = document.getElementById('closeEditorBtn');
        const cancelNoteBtn = document.getElementById('cancelNoteBtn');
        const saveNoteBtn = document.getElementById('saveNoteBtn');
        const noteForm = document.getElementById('noteForm');
        const editorTitle = document.getElementById('editorTitle');
        const noteTitleInput = document.getElementById('noteTitle');
        const noteCategorySelect = document.getElementById('noteCategory');
        const noteTagsInput = document.getElementById('noteTags');
        const notePinnedCheckbox = document.getElementById('notePinned');
        const exportModal = document.getElementById('exportModal');
        const closeExportBtn = document.getElementById('closeExportBtn');
        const cancelExportBtn = document.getElementById('cancelExportBtn');
        const startExportBtn = document.getElementById('startExportBtn');
        const exportLoading = document.getElementById('exportLoading');

        // Initialize application
        function initApp() {
            // Show loading screen initially
            setTimeout(() => {
                loadingScreen.style.display = 'none';
                appContainer.style.display = 'flex';
                
                // Initialize Quill editor
                quillEditor = new Quill('#editor', {
                    theme: 'snow',
                    modules: {
                        toolbar: [
                            ['bold', 'italic', 'underline'],
                            [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                            ['link'],
                            ['clean']
                        ]
                    },
                    placeholder: 'Start typing your note here...'
                });
                
                // Load notes
                loadNotes();
                
                // Initialize event listeners
                initEventListeners();
                
                // Update Lucide icons
                lucide.createIcons();
            }, 1500);
        }

        // Load and display notes
        function loadNotes() {
            // Clear existing notes
            notesGrid.innerHTML = '';
            
            // Filter notes based on category, tag, and search
            let filteredNotes = notes;
            
            // Filter by category
            if (currentCategory !== 'all') {
                filteredNotes = filteredNotes.filter(note => note.category === currentCategory);
            }
            
            // Filter by tag
            if (currentTag) {
                filteredNotes = filteredNotes.filter(note => note.tags.includes(currentTag));
            }
            
            // Filter by search query
            if (searchQuery.trim() !== '') {
                const query = searchQuery.toLowerCase();
                filteredNotes = filteredNotes.filter(note => 
                    note.title.toLowerCase().includes(query) || 
                    note.content.toLowerCase().includes(query) ||
                    note.tags.some(tag => tag.toLowerCase().includes(query))
                );
            }
            
            // Show/hide empty state
            if (filteredNotes.length === 0) {
                emptyState.style.display = 'block';
            } else {
                emptyState.style.display = 'none';
                
                // Display filtered notes
                filteredNotes.forEach(note => {
                    const noteCard = createNoteCard(note);
                    notesGrid.appendChild(noteCard);
                });
            }
            
            // Update stats
            updateStats();
        }

        // Create a note card element
        function createNoteCard(note) {
            const card = document.createElement('div');
            card.className = 'note-card';
            card.dataset.id = note.id;
            
            // Format date
            const date = new Date(note.updatedAt);
            const timeAgo = getTimeAgo(date);
            
            // Create card HTML
            card.innerHTML = `
                <div class="note-header">
                    <h3 class="note-title">${escapeHtml(note.title)}</h3>
                    ${note.pinned ? '<i class="fas fa-thumbtack note-pin"></i>' : ''}
                </div>
                <div class="note-content">
                    ${escapeHtml(note.content.substring(0, 200))}${note.content.length > 200 ? '...' : ''}
                </div>
                <div class="note-footer">
                    <span class="note-category">${note.category.charAt(0).toUpperCase() + note.category.slice(1)}</span>
                    <span class="note-date">${timeAgo}</span>
                </div>
            `;
            
            // Add click event to edit note
            card.addEventListener('click', () => openEditor(note.id));
            
            return card;
        }

        // Update statistics
        function updateStats() {
            const totalNotes = notes.length;
            const pinnedNotes = notes.filter(note => note.pinned).length;
            
            totalNotesElement.textContent = totalNotes;
            pinnedNotesElement.textContent = pinnedNotes;
        }

        // Open editor for new or existing note
        function openEditor(noteId = null) {
            if (noteId) {
                // Edit existing note
                const note = notes.find(n => n.id === noteId);
                if (note) {
                    editorTitle.textContent = 'Edit Note';
                    noteTitleInput.value = note.title;
                    quillEditor.setText(note.content);
                    noteCategorySelect.value = note.category;
                    noteTagsInput.value = note.tags.join(', ');
                    notePinnedCheckbox.checked = note.pinned;
                    
                    // Store note ID for saving
                    noteTitleInput.dataset.noteId = noteId;
                }
            } else {
                // Create new note
                editorTitle.textContent = 'New Note';
                noteTitleInput.value = '';
                quillEditor.setText('');
                noteCategorySelect.value = 'personal';
                noteTagsInput.value = '';
                notePinnedCheckbox.checked = false;
                
                // Clear stored note ID
                delete noteTitleInput.dataset.noteId;
            }
            
            // Show editor modal
            editorModal.style.display = 'flex';
            noteTitleInput.focus();
        }

        // Save note
        function saveNote() {
            const title = noteTitleInput.value.trim();
            const content = quillEditor.getText().trim();
            const category = noteCategorySelect.value;
            const tags = noteTagsInput.value.split(',').map(tag => tag.trim()).filter(tag => tag);
            const pinned = notePinnedCheckbox.checked;
            
            // Validate
            if (!title) {
                Swal.fire('Error', 'Please enter a title for your note', 'error');
                return;
            }
            
            if (!content) {
                Swal.fire('Error', 'Please enter some content for your note', 'error');
                return;
            }
            
            const noteId = noteTitleInput.dataset.noteId;
            
            if (noteId) {
                // Update existing note
                const index = notes.findIndex(n => n.id === parseInt(noteId));
                if (index !== -1) {
                    notes[index] = {
                        ...notes[index],
                        title,
                        content,
                        category,
                        tags,
                        pinned,
                        updatedAt: new Date()
                    };
                }
            } else {
                // Create new note
                const newNote = {
                    id: notes.length > 0 ? Math.max(...notes.map(n => n.id)) + 1 : 1,
                    title,
                    content,
                    category,
                    tags,
                    pinned,
                    createdAt: new Date(),
                    updatedAt: new Date(),
                    color: getRandomColor()
                };
                notes.unshift(newNote); // Add to beginning
            }
            
            // Close editor and refresh
            closeEditor();
            loadNotes();
            
            // Show success message
            Swal.fire({
                icon: 'success',
                title: noteId ? 'Note Updated' : 'Note Created',
                text: noteId ? 'Your note has been updated successfully!' : 'Your note has been created successfully!',
                timer: 1500,
                showConfirmButton: false
            });
        }

        // Close editor
        function closeEditor() {
            editorModal.style.display = 'none';
            noteForm.reset();
            quillEditor.setText('');
        }

        // Initialize event listeners
        function initEventListeners() {
            // Sidebar toggle
            toggleSidebarBtn.addEventListener('click', () => {
                sidebar.classList.toggle('active');
            });

            // Category selection
            document.querySelectorAll('.category-item').forEach(item => {
                item.addEventListener('click', () => {
                    // Remove active class from all
                    document.querySelectorAll('.category-item').forEach(i => i.classList.remove('active'));
                    // Add active class to clicked
                    item.classList.add('active');
                    
                    // Update current category
                    currentCategory = item.dataset.category;
                    currentTag = null; // Clear tag filter
                    
                    // Load notes with new filter
                    loadNotes();
                });
            });

            // Tag selection
            document.querySelectorAll('.tag-item').forEach(item => {
                item.addEventListener('click', () => {
                    // Remove active class from all
                    document.querySelectorAll('.tag-item').forEach(i => i.classList.remove('active'));
                    // Add active class to clicked
                    item.classList.add('active');
                    
                    // Update current tag
                    currentTag = item.dataset.tag;
                    currentCategory = 'all'; // Switch to all notes view
                    
                    // Update category selection
                    document.querySelectorAll('.category-item').forEach(i => i.classList.remove('active'));
                    document.querySelector('.category-item[data-category="all"]').classList.add('active');
                    
                    // Load notes with new filter
                    loadNotes();
                });
            });

            // New note button
            newNoteBtn.addEventListener('click', () => openEditor());

            // Theme toggle
            themeToggleBtn.addEventListener('click', toggleDarkMode);

            // Export button
            exportBtn.addEventListener('click', () => {
                exportModal.style.display = 'flex';
            });

            // Search
            searchInput.addEventListener('input', (e) => {
                searchQuery = e.target.value;
                loadNotes();
            });

            // Create first note button
            createFirstNoteBtn.addEventListener('click', () => openEditor());

            // Editor buttons
            closeEditorBtn.addEventListener('click', closeEditor);
            cancelNoteBtn.addEventListener('click', closeEditor);
            saveNoteBtn.addEventListener('click', saveNote);

            // Export modal buttons
            closeExportBtn.addEventListener('click', () => {
                exportModal.style.display = 'none';
            });
            
            cancelExportBtn.addEventListener('click', () => {
                exportModal.style.display = 'none';
            });
            
            startExportBtn.addEventListener('click', exportNotes);

            // Export option selection
            document.querySelectorAll('.export-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.export-option').forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                });
            });

            // Handle form submission
            noteForm.addEventListener('submit', (e) => {
                e.preventDefault();
                saveNote();
            });

            // Close modals on outside click
            window.addEventListener('click', (e) => {
                if (e.target === editorModal) closeEditor();
                if (e.target === exportModal) exportModal.style.display = 'none';
            });
        }

        // Toggle dark mode
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode');
            
            const icon = themeToggleBtn.querySelector('i');
            const text = themeToggleBtn.querySelector('span');
            
            if (isDarkMode) {
                icon.className = 'fas fa-sun';
                text.textContent = 'Light Mode';
            } else {
                icon.className = 'fas fa-moon';
                text.textContent = 'Dark Mode';
            }
            
            // Save preference to localStorage
            localStorage.setItem('darkMode', isDarkMode);
        }

        // Export notes
        function exportNotes() {
            const format = document.querySelector('.export-option.active').dataset.format;
            const exportAll = document.getElementById('exportAll').checked;
            const includeMetadata = document.getElementById('includeMetadata').checked;
            const fileName = document.getElementById('exportFileName').value || 'notetaker-export';
            
            // Show loading
            exportModal.style.display = 'none';
            exportLoading.style.display = 'flex';
            
            // Get notes to export
            let notesToExport = exportAll ? notes : notes.filter(note => note.pinned);
            
            setTimeout(() => {
                exportLoading.style.display = 'none';
                
                // For demo purposes, show a success message
                // In a real application, you would generate the file here
                Swal.fire({
                    icon: 'success',
                    title: 'Export Complete',
                    html: `
                        <div style="text-align: left; padding: 10px;">
                            <p><strong>Format:</strong> ${format.toUpperCase()}</p>
                            <p><strong>Notes exported:</strong> ${notesToExport.length}</p>
                            <p><strong>File name:</strong> ${fileName}.${format}</p>
                            <p><strong>Metadata included:</strong> ${includeMetadata ? 'Yes' : 'No'}</p>
                        </div>
                    `,
                    confirmButtonText: 'Download File'
                });
            }, 2000);
        }

        // Utility functions
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function getTimeAgo(date) {
            const now = new Date();
            const diffMs = now - date;
            const diffSec = Math.floor(diffMs / 1000);
            const diffMin = Math.floor(diffSec / 60);
            const diffHour = Math.floor(diffMin / 60);
            const diffDay = Math.floor(diffHour / 24);
            
            if (diffSec < 60) return 'Just now';
            if (diffMin < 60) return `${diffMin} minute${diffMin > 1 ? 's' : ''} ago`;
            if (diffHour < 24) return `${diffHour} hour${diffHour > 1 ? 's' : ''} ago`;
            if (diffDay < 7) return `${diffDay} day${diffDay > 1 ? 's' : ''} ago`;
            
            return date.toLocaleDateString();
        }

        function getRandomColor() {
            const colors = ['#667eea', '#764ba2', '#4f46e5', '#10b981', '#f59e0b', '#ef4444'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // Menu functions (for footer links)
        function setView(view) {
            // For demo purposes, show a message
            Swal.fire('Navigation', `Loading ${view} view...`, 'info');
        }

        function openSettings() {
            Swal.fire({
                title: 'Settings',
                html: `
                    <div style="text-align: left;">
                        <h4>Account Settings</h4>
                        <p>Profile, privacy, and security settings</p>
                        
                        <h4>Display Settings</h4>
                        <p>Theme, layout, and appearance</p>
                        
                        <h4>Notification Settings</h4>
                        <p>Email and push notifications</p>
                    </div>
                `,
                showConfirmButton: true,
                confirmButtonText: 'Close'
            });
        }

        function logout() {
            Swal.fire({
                title: 'Logout',
                text: 'Are you sure you want to logout?',
                icon: 'question',
                showCancelButton: true,
                confirmButtonText: 'Yes, logout',
                cancelButtonText: 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    // In a real app, you would handle Firebase logout here
                    Swal.fire({
                        icon: 'success',
                        title: 'Logged Out',
                        text: 'You have been logged out successfully',
                        timer: 1500,
                        showConfirmButton: false
                    }).then(() => {
                        // Redirect to login page
                        // window.location.href = '/login';
                    });
                }
            });
        }

        // Check for saved dark mode preference
        const savedDarkMode = localStorage.getItem('darkMode');
        if (savedDarkMode === 'true') {
            isDarkMode = true;
            document.body.classList.add('dark-mode');
            const icon = themeToggleBtn.querySelector('i');
            const text = themeToggleBtn.querySelector('span');
            icon.className = 'fas fa-sun';
            text.textContent = 'Light Mode';
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>